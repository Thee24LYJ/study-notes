# 一、DRF 二期项目架构
---
### 1.1 DRF 二期项目背景

本项目采用射线追踪模型进行信道参数实时计算并配置给基带、射频等硬件设备实现多个通信设备节点博弈复杂信道模拟的功能。
该项目采用 Linux 服务器集群，通过 TCP 协议获取显控系统下发的节点信息，解析 JSON 数据并计算信道参数，通过 UDP 协议进行基带、射频等器件参数配置实时模拟逼真信道环境，实现多节点博弈模拟。
该项目支持典型地理和电磁环境加载，全向、定向方向图，频谱模板和阵列天线等参数导入，电磁环境刷新率为 100Hz，工作频率范围为 30MHz~18GHz，模拟空间范围为 10~300Km。

---

### 1.2 DRF 二期项目架构

见 XMind 思维导图，可附加信道计算的流程图

值得注意的是：射频机箱端口输入信号功率最好别超过-15dbm(未特殊配置输入端口射频衰减的情况下)

输入信号需在配置射频频点正负 500M 内，因为带宽为 1G

---

调试过程中出现的问题： 1.代码按照场景正常运行，但是发现射频输出没有信号，排查步骤：

- 使用 wireshark 抓包看是否正常发出信道参数配置数据包，分为两个部分：基带配置和射频配置参数，如没有正常发包则使用 ping 命令检查是否能 ping 通对应的基带和射频机箱，如不能则检查是否基带是否下好比特，是否工作正常(ILA 抓数)，射频机箱是否开启，如上述操作正常则检查是否有绑定静态 ARP，如有绑定静态 ARP 则看交换机和射频机箱是否工作正常，还有可能是 10ms 脉冲的问题
- 如果正常发包但还是没有射频信号输出，那么多半是基带或射频没有正常工作，此时重下比特或重启机箱重新配置相关参数基本问题就能解决

---

# 二、DRF 项目演进架构

在原本二期基础上进行优化，添加动态载体增减功能，支持大量节点对同时运行，互相隔离

这里加上之前画的软件运行流程图

---

# 三、总结与展望

后续可扩展想法：GPU 并行计算，信道计算算法可扩展替换，随机性信道参数叠加
