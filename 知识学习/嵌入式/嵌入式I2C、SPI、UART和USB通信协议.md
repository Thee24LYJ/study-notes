# 一、I2C

> I2C 是一种串行通信协议，通常用于连接低速设备，如传感器、存储器和其他外设。它使用两根线（SCL 和 SDA）来实现双向通信，具有地址定向性和主从模式

![](https://mmbiz.qpic.cn/mmbiz_gif/tGxRKz6VNHVGb1qHG41rS5mPZ70ZVWcO0eQHXLFkglZ0uYcXJicepfco6sxX4QASIJtLapv67CokxoAGSTialgnw/640?wx_fmt=gif&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1)

### 1.1 优缺点

##### 优点

- 多设备支持：I2C 支持多个设备连接到同一总线上，每个设备都有唯一的地址。
- 简单：I2C 协议相对简单，易于实现和调试。
- 低功耗：在空闲状态时，I2C 总线上的器件可以进入低功耗模式，节省能源

##### 缺点

- 速度较慢：I2C 通信速度较低，适用于低速设备。
- 受限制：I2C 的总线长度和设备数量受到限制，过长的总线可能导致通信问题。
- 冲突：当多个设备尝试同时发送数据时，可能会发生冲突，需要额外的冲突检测和处理机制

### 1.2 应用场景

适合于使用于**小型传感器、LCD 屏幕和 RTC（实时时钟）模块中**。此外，I2C 由于其在紧凑电路中的效率，在温度控制设备、电池管理系统和 LED 控制器中很有用。但是，在需要快速或长距离数据传输的项目中，最好选择其他协议

### 1.3 典型 I2C 时序

##### 1.3.1 起始停止信号

起始信号：SCL 为高电平时，SDA 由高变低
停止信号：SCL 为高电平时，SDA 由低变高

##### 1.3.2 字节传输与应答

I2C 总线数据传输时，每帧数据包含 8 位数据和一位应答位，发送器先传输最高位后传输低位，8 位数据发送完成后接收器必须发送一位应答位回应发送器

##### 1.3.3 同步数据信号

I2C 总线数据传输时，当 SCL 为低电平时，发送器向 SDA 发送一位数据，此时 SDA 上的信号可以改变；当 SCL 为高电平时，接收器从 SDA 接收一位数据，此时 SDA 上的信号必须保持不变

# 二、SPI

> SPI（串行外设接口）以其**高速度**而著称，使其成为快速通信的首选。与 I2C 不同，SPI 使用四线工作：MISO（主输入从输出）、MOSI（主输出从输入）、SCK（串行时钟）和 SS（从选择），允许全双工通信（发送和同时接收）

![](https://mmbiz.qpic.cn/mmbiz_gif/tGxRKz6VNHVGb1qHG41rS5mPZ70ZVWcOEoxp9MVl2tic1VEEP88efwQapuIiaGvOuicQ1QUhBKXTDMTZUCvqqZThA/640?wx_fmt=gif&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1)

### 2.1 优缺点

##### 优点

- 高速：SPI 通信速度较快，适用于对速度要求较高的应用。
- 全双工：SPI 支持全双工通信，可以同时进行数据发送和接收。
- 简单：SPI 的通信协议相对简单，适用于快速开发和实现

##### 缺点

- 连线复杂：SPI 需要多根线进行连接，可能会增加硬件设计的复杂性。
- 长距离传输受限：SPI 的传输距离受到限制，过长的线路可能导致信号衰减和干扰。
- 主从模式限制：SPI 通常采用主从模式，主设备数量受限，不适用于多主设备场景

### 2.2 应用场景

SPI 非常适合需要**快速可靠的数据传输**的情况，例如 TFT 显示器、SD 存储卡和无线通信模块

# 三、UART

> UART（通用异步接收器/发送器）是一种串行通信协议，因其**多功能性和简单性**而被广泛使用。与 I2C 和 SPI 不同，UART 只需要两条线即可运行：TX（发送）和 RX（接收）。该协议允许异步通信，也就是说发送器和接收器之间无需共享时钟。数据被组织成数据包，每个数据包包含一个起始位、5 到 9 个数据位、一个可选的奇偶校验位和一个或两个停止位

![](https://mmbiz.qpic.cn/mmbiz_gif/tGxRKz6VNHVGb1qHG41rS5mPZ70ZVWcOqvSDxlJHN8iaexNGlUVY6kfClDYVP5zHwyicmTicibdbmYXLsurCbRiaFeQ/640?wx_fmt=gif&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1)

### 3.1 优缺点

##### 优点

- 简单：**UART 通信协议相对简单，易于实现和调试**。
- 适用性广泛：UART 被广泛应用于各种设备之间的通信，具有较好的兼容性。
- 距离：UART 通信距离较远，适用于需要长距离传输的场景

##### 缺点

- 速度较低：UART 通信速度相对较低，不适用于对速度要求较高的应用。
- 双工：UART 通信是双工的，可以进行低速双工传输数据，进行数据的发送和接收。
- 不可靠：由于 UART 是异步通信，可能会受到噪声和干扰的影响，导致数据传输不可靠

### 3.2 应用场景

- **微控制器和外设之间的连接**：用于简单直接的数据交换。
- **GPS 模块和与计算机的串行接口**：用于可靠、低复杂性的通信。
- **工业机器**：UART 通常用于工业设备中以实现稳定的通信。
- **使用 RS 标准（例如 RS-232、RS-485）**：这些标准支持更长距离的 UART 通信，并提供使用适当的收发器创建多从属网络的可能性，从而增加 UART 应用的灵活性和广度

# 四、USB

> **USB** (Universal Serial Bus)是 1995 年 Microsoft、Compaq、IBM 等公司联合制定的一种新的 PC 串行通信协议。它基于通用连接技术，实现外设的简单快速连接，达到方便用户、降低成本、扩展 PC 连接外设范围的目的。**允许外设在开机状态下热插拔（电源启动超前于数据传输）**，最多可串接 127 个外设，可以向**低压设备**提供**5 伏电源**，同时可以减少 PC 机 I/O 接口数量

### 4.1 优点

- 适用于多种外设，使它不需要为不同的外设准备不同的接口和协议
- Windows 能自动检测到 USB 设备的热插拔，并自动配置
- PC 机上的接口线非常紧缺，而 USB 设备并不需要用户设置端口，故无论从用户使用方便性，或从对资源的占用方面看，USB 都很优秀
- 当接入一个 USB 设备时，全速 USB 接口可达 12Mbit/s。考虑到状态、控制和出错信息，最大理论速度仍可达到 9.6Mbit/s，这是其他串行接口协议所不能比拟的，且 USB 也支持 1.5Mbit/s 的低速传输
- USB 接口芯片价格低廉，这也大大促进 USB 设备的开发与应用

# 四种协议对比

|  对比项  |        I2C         |         SPI          |       UART       |  USB   |
| :------: | :----------------: | :------------------: | :--------------: | :----: |
| 通信速度 |        低速        |         高速         |     高灵活性     |  高速  |
| 电路设计 | 多设备高效空间管理 | 满足大型设计性能要求 | 简单性、多功能性 | 4 根线 |
|  双工方  |       半双工       |        全双工        |      全双工      | 半双工 |

# 总结

- I2C 因其简单性和用最少的引脚管理多个从设备的能力脱颖而出，使其成为短距离配置的理想选择
- SPI 具有高速和全双工模式，非常适合在电路空间不是主要问题的系统中进行快速高效的数据传输
- UART 功能强大，在长距离通信和速度要求较低的配置中表现出色

来源：
[非常逼真啊！动画展示 I2C、SPI、UART 的通信过程。](https://mp.weixin.qq.com/s/YhX5_jT0n2SPPOsrB_uGBQ)
[USB 总线专题（一）——基础知识-CSDN 博客](https://blog.csdn.net/wwt18811707971/article/details/73065391)
[USB 是什么，USB 的优点、设备分类及传输方式有那些？ - USB 中文网](https://www.usbzh.com/article/detail-238.html)
[I2C 总线协议详解（特点、通信过程、典型 I2C 时序）-CSDN 博客](https://blog.csdn.net/zhangduang_KHKW/article/details/121953275)
