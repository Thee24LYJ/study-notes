### SV 参数传递

[systemverilog 参数传递 - 知乎](https://zhuanlan.zhihu.com/p/532237947)
[SystemVerilog 中的参数传递 - 李黑黑 - 博客园](https://www.cnblogs.com/holdendong/articles/18173760)
[system verilog 中的参数传递——ref，input，output_input output ref-CSDN 博客](https://blog.csdn.net/qq_41467882/article/details/121684326)

我们从函数或任务的形参类型来讨论，形参类型有 ref,input,output,inout。

形参类型为 ref 比较简单，可以认为函数或任务拿到这个变量就是实参变量本身。

形参类型为 input，会新建一个变量并且完成变量拷贝，也就把实参变量内容复制给新建变量。

形参类型为 output，只会新建一个变量，不会进行变量拷贝，这里里面有意思地方是，如果实参是数组队列，只会新建一个同等大小的空数组或空队列；而如果实参是类对象，那只会新建一个句柄，不会进行句柄的拷贝，网上有些例子报 error 啥的，就是因为只是这个新建的句柄没有指向任何对象，悬空状态。以上是 output 的第一个特性，它的第二个特性是函数或任务执行完后，实参原本的物理内存位置和内容会被释放掉，变为所创建形参的物理内存的位置和内容。这就可以实现实参句柄指向了形参句柄对象，因为实参句柄本身就已经变成了形参句柄。

形参类型为 inout，两个特性，一是新建变量和变量拷贝，二是函数或任务执行完后，实参原本的物理内存位置和内容会被释放掉，变为所创建形参的物理内存的位置和内容

### SV 中的 function 和 task

[SystemVerilog----任务(task)和函数(function)](https://blog.csdn.net/yh13572438258/article/details/121453101)
[systemverilog 中的函数 function 和任务 task - SOC 验证工程师 - 博客园](https://www.cnblogs.com/Alfred-HOO/articles/15473232.html)
[用户 b669 和腾讯元宝的对话](https://yuanbao.tencent.com/bot/app/share/chat/x28ri40Avd1O)

|            |                                   function(函数)                                   |                                             task(任务)                                             |
| :--------: | :--------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------: |
| 执行与消耗 |                   不会消耗仿真时间 ，不能含有控制仿真时间的语句                    | 可能会消耗仿真时间，可以包含仿真时间控制语句，如#100，时钟周期@（），wait（）以及事件 event 等语句 |
|  形参变量  |                         函数中至少包含一个输入变量进行传参                         |                                    任务中可以没有输入、输出变量                                    |
|  调用方式  |                     function 无法调用 task，只能调用 function                      |                                task 可以调用 task,也可以调 function                                |
|   返回值   |                  一个可以返回数据的 function 只能返回一个单一数值                  |                  任务或者 void function 不会返回数值,一般通过 output 信号直接输出                  |
|  返回方式  | 函数的返回可以通过调用 return 语句实现，当不需要返回值时可以将函数定义为 void 类型 |                          任务没有返回值，但是也可以用 return 来结束 task                           |

### assign 和 always(\*)区别

[FPGA 中和 Verilog 中 always@（\*）和 assign 的理解](https://zhuanlan.zhihu.com/p/549368034)

assign 表示为直接连线，而 always@（\*）表示当内部数据发生变化的时候（一般是输入的变化），才会开始工作。从而会导致一些未知态

### 配置复位、非配置复位、软复位和解复位

[用户 b669 和腾讯元宝的对话](https://yuanbao.tencent.com/bot/app/share/chat/C9K6KVP3ggtp)

| **复位类型 ​**​      | ​**​ 触发源 ​**​            | ​**​ 作用范围 ​**​     | ​**​ 时序要求 ​**​   | ​**​ 验证重点 ​**​       | ​**​ 典型应用场景 ​**​    |
| -------------------- | --------------------------- | ---------------------- | -------------------- | ------------------------ | ------------------------- |
| ​**​ 配置复位 ​**​   | 配置逻辑（如寄存器写入）    | 局部模块（可配置区域） | 异步/同步均可        | 配置寄存器的复位值一致性 | PCIe 链路重训练、PLL 重配 |
| ​**​ 非配置复位 ​**​ | 外部引脚或内部定时器        | 全局或子系统           | 严格同步（防亚稳态） | 复位释放时序与时钟关系   | 上电初始化、看门狗复位    |
| ​**​ 软复位 ​**​     | 软件指令（寄存器写 1 触发） | 特定功能模块           | 同步释放             | 复位期间状态保持能力     | DMA 控制器复位、缓存清空  |
| ​**​ 解复位 ​**​     | 时钟/电源稳定后自动解除     | 时钟域或电源域         | 与时钟门控联动       | 解除复位后的时钟恢复时序 | 低功耗模式唤醒            |
