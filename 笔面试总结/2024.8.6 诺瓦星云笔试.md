# 一、Linux 操作系统

### 1.1 用户态对字符设备操作的描述

- 在 open 字符设备时，既可以采用 N_NONBLOCK(非阻塞)的方式，也可以采用阻塞的方式
- 在 open 文件之后，我们仍可以使用函数 ioctl 和 fcntl 来改变读写的方式
- 应用层的程序同字符设备驱动可以有多种通信方式
- 若设备驱动中创建了 sysfs 节点，并在驱动中设置了读写权限和对用 show store 函数，那么应用层程序可以对这些 ysfs 节点进行读写操作

# 二、嵌入式通信协议

### 2.1 SPI 通信

[通信协议 - SPI - Power's Wiki](https://wiki-power.com/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE-SPI)

- 在进行 SPI 通讯时，必须将 CS 先拉低 -> CS 低电平有效
- MISO 为主设备的接收线
- SPI 总线不需要接上拉电阻，功耗更低
- CLK 的频率与 SPI 传输 bit 个数是 1:1 的关系 -> 一个时钟周期传输 1bit 数据，所以传输速率等同于主机产生的时钟频率

### 2.2 串行通信和并行通信接口

##### 2.2.1 串行通信

- UART
- I2C
- SPI

##### 2.2.2 并行通信

FSMC：Flexible Static Memory Controller 的缩写，译为灵活的静态存储控制器

### 2.3 I2C 总线从机数

[【硬件】IIC 总线-CSDN 博客](https://blog.csdn.net/tao475824827/article/details/108698055)
IIC 总线是主从设备，从机地址位数为 7 位。一个主机在总线上最多可以挂 127 个从机（7 位地址最多 128，去除 0x0 广播地址，还剩 127），设备间通过不同的设备地址来区分

### 2.4 在嵌入式系统中，以下哪些通信接口是同步通信接口

- SPI
- I2C
- USB -> 既可同步也可异步通信

### 2.5 三极管和 MOS 管的描述

- 三极管属于电流控制，MOS 管属于电压控制
- 三极管和 MOS 管均可以用于电平转换电路中

### 2.6 使用 stm32F103 系列单片机 IO 管脚的中断功能,我们需要设置 IO 工作模式为浮空输出方式

### 2.7 STM32 的三种 boot 模式分别为：主闪存存储器启动、系统存储器启动、内置 SRAM 启动，这三种模式对应的 boot 引脚电平如下：

![](https://doc.embedfire.com/mcu/stm32/f103badao/std/zh/latest/_images/SRAM01.png)

##### 2.7.1 主闪存存储器启动

BOOT1 = X，BOOT0 = 0

##### 2.7.2 系统存储器启动

BOOT1 = 0，BOOT0 = 1

##### 2.7.3 内置 SRAM 启动

BOOT1 = 1，BOOT0 = 1
